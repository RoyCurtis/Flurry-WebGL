<!DOCTYPE html>
<html>
<head>
    <title>Flurry</title>
    <style type="text/css">
        body, html
        {
            margin:  0;
            padding: 0;
        }

        body, html
        {
            background: #000;
            width:      100%;
            height:     100%;
            overflow:   hidden;
        }

        canvas#render
        {
            background: #000;
            width:      100%;
            height:     100%;
        }
    </style>
</head>

<body>
    <canvas id="render"></canvas>
</body>

<shaders>
    <script id="shader-vs" type="x-shader/x-vertex">
        attribute vec3 aVertexPosition;
        attribute vec3 aVertexColor;
        attribute vec2 aTextureCoord;

        uniform mat4 uMVMatrix;
        uniform mat4 uPMatrix;

        varying highp vec2 vTextureCoord;
        varying vec4 vColor;

        void main(void)
        {
            gl_Position = uModelViewProjectionMatrix * aVertexPosition;
            vTextureCoord = aTextureCoord;
        }
    </script>

    <script id="shader-fs" type="x-shader/x-fragment">
        varying highp vec2 vTextureCoord;

        uniform sampler2D uSampler;

        void main(void)
        {
            // Alpha test
            if (vColor.a <= 0.0f)
            {
                discard;
            }
            color = v_frontColor;
            gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));
        }
    </script>
</shaders>

<scripts>
    <script type="application/javascript">
        var MAX_PARTICLES = 2500;
        var MAX_SMOKE     = 3600;
        var MAX_ANGLES    = 16384;
        var BIG_MYSTERY   = 1800;
    </script>

    <script src="js/lib/gl-matrix.js"></script>

    <script src="js/util/ArrayOf.js"></script>
    <script src="js/util/ColorModes.js"></script>
    <script src="js/util/Math.js"></script>
    <script src="js/util/Vectors.js"></script>

    <script src="js/Flurry.js"></script>
    <script src="js/Smoke.js"></script>
    <script src="js/SmokeParticle.js"></script>
    <script src="js/Spark.js"></script>
    <script src="js/Star.js"></script>
    <script src="js/Texture.js"></script>
    <script src="js/GLSaver.js"></script>

    <script type="application/javascript">
        Flurry.main('render');
    </script>
</scripts>
</html>